<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2021.875px" preserveAspectRatio="none" style="width:2487px;height:2021px;background:#00000000;" version="1.1" viewBox="0 0 2487 2021" width="2487.5px" zoomAndPan="magnify"><defs/><g><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect codeLine="6" fill="#F3F4F8" height="661.5723" id="User" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="471.875" x="1004.6875" y="653.125"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="234.375" x="1123.4375" y="714.1663">«collection»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="103.125" x="1189.0625" y="769.1956">User</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="1007.8125" x2="1473.4375" y1="794.4336" y2="794.4336"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="168.75" x="1023.4375" y="852.3499">id: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="237.5" x="1023.4375" y="907.3792">email: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="321.875" x="1023.4375" y="962.4084">password: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="434.375" x="1023.4375" y="1017.4377">roles: USER_ROLES[]</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="365.625" x="1023.4375" y="1072.467">isVerified: boolean</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="318.75" x="1023.4375" y="1127.4963">firstName: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="315.625" x="1023.4375" y="1182.5256">lastName: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="309.375" x="1023.4375" y="1237.5549">createdAt: Date</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="321.875" x="1023.4375" y="1292.5842">updatedAt: Date</text><!--MD5=[df6ffdd42396b7405e8c0a7f442acbc6]
class UserIdentity--><rect codeLine="17" fill="#F3F4F8" height="661.5723" id="UserIdentity" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="768.75" x="21.875" y="653.125"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="234.375" x="289.0625" y="714.1663">«collection»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="265.625" x="273.4375" y="769.1956">UserIdentity</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="25" x2="787.5" y1="794.4336" y2="794.4336"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="168.75" x="40.625" y="852.3499">id: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="325" x="40.625" y="907.3792">externalId: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="237.5" x="40.625" y="962.4084">email: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="396.875" x="40.625" y="1017.4377">accessToken: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="400" x="40.625" y="1072.467">refreshToken: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="731.25" x="40.625" y="1127.4963">provider: THIRD_PARTY_PROVIDER</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="256.25" x="40.625" y="1182.5256">userId: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="309.375" x="40.625" y="1237.5549">createdAt: Date</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="321.875" x="40.625" y="1292.5842">updatedAt: Date</text><!--MD5=[52cc362f66d35c7007b086bff70c125a]
class DemoSubscription--><rect codeLine="28" fill="#F3F4F8" height="441.4551" id="DemoSubscription" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="421.875" x="1029.6875" y="21.875"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="234.375" x="1123.4375" y="82.9163">«collection»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="403.125" x="1039.0625" y="137.9456">DemoSubscription</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="1032.8125" x2="1448.4375" y1="163.1836" y2="163.1836"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="168.75" x="1048.4375" y="221.0999">id: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="237.5" x="1048.4375" y="276.1292">email: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="312.5" x="1048.4375" y="331.1584">comment: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="309.375" x="1048.4375" y="386.1877">createdAt: Date</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="321.875" x="1048.4375" y="441.217">updatedAt: Date</text><!--MD5=[a1c0fdd79fd70f48f5beb3a957ba6748]
class AuthMail--><rect codeLine="36" fill="#F3F4F8" height="496.4844" id="AuthMail" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="775" x="1690.625" y="735.9375"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="234.375" x="1960.9375" y="796.9788">«collection»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="190.625" x="1982.8125" y="852.0081">AuthMail</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="1693.75" x2="2462.5" y1="877.2461" y2="877.2461"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="168.75" x="1709.375" y="935.1624">id: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="171.875" x="1709.375" y="990.1917">to: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="737.5" x="1709.375" y="1045.2209">category: AUTH_MAIL_CATEGORIES</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="243.75" x="1709.375" y="1100.2502">token: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="309.375" x="1709.375" y="1155.2795">createdAt: Date</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="321.875" x="1709.375" y="1210.3088">updatedAt: Date</text><!--MD5=[717906f5578eb2fc29e48fa2044c46f6]
class RefreshToken--><rect codeLine="44" fill="#F3F4F8" height="496.4844" id="RefreshToken" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="359.375" x="1060.9375" y="1506.25"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="234.375" x="1123.4375" y="1567.2913">«collection»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="309.375" x="1085.9375" y="1622.3206">RefreshToken</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="1064.0625" x2="1417.1875" y1="1647.5586" y2="1647.5586"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="168.75" x="1079.6875" y="1705.4749">id: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="240.625" x="1079.6875" y="1760.5042">value: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="256.25" x="1079.6875" y="1815.5334">userId: string</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="315.625" x="1079.6875" y="1870.5627">expires: number</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="309.375" x="1079.6875" y="1925.592">createdAt: Date</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="321.875" x="1079.6875" y="1980.6213">updatedAt: Date</text><!--MD5=[5cbbc7f18a89c3b7df79d25f8d8b2405]
class USER_ROLES--><rect codeLine="53" fill="#F3F4F8" height="386.4258" id="USER_ROLES" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="309.375" x="1560.9375" y="48.4375"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="159.375" x="1635.9375" y="109.4788">«enum»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="290.625" x="1570.3125" y="164.5081">USER_ROLES</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="1564.0625" x2="1867.1875" y1="189.7461" y2="189.7461"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="131.25" x="1579.6875" y="247.6624">ADMIN</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="115.625" x="1579.6875" y="302.6917">USER</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="212.5" x="1579.6875" y="357.7209">MANAGER</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="128.125" x="1579.6875" y="412.7502">DEMO</text><!--MD5=[2bfaa5f6d81cffc741eb7c902519cd13]
class THIRD_PARTY_PROVIDER--><rect codeLine="60" fill="#F3F4F8" height="276.3672" id="THIRD_PARTY_PROVIDER" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="568.75" x="121.875" y="104.6875"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="159.375" x="326.5625" y="165.7288">«enum»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="550" x="131.25" y="220.7581">THIRD_PARTY_PROVIDER</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="125" x2="687.5" y1="245.9961" y2="245.9961"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="190.625" x="140.625" y="303.9124">GOOGLE</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="240.625" x="140.625" y="358.9417">FACEBOOK</text><!--MD5=[c82c702ebaddf7fd528266906988551c]
class AUTH_MAIL_CATEGORIES--><rect codeLine="65" fill="#F3F4F8" height="276.3672" id="AUTH_MAIL_CATEGORIES" rx="15.625" ry="15.625" style="stroke:#9496A1;stroke-width:4.6875;" width="571.875" x="1792.1875" y="1617.1875"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="159.375" x="1998.4375" y="1678.2288">«enum»</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" font-weight="bold" lengthAdjust="spacing" textLength="553.125" x="1801.5625" y="1733.2581">AUTH_MAIL_CATEGORIES</text><line style="stroke:#9496A1;stroke-width:4.6875;" x1="1795.3125" x2="2360.9375" y1="1758.4961" y2="1758.4961"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="528.125" x="1810.9375" y="1816.4124">ACCOUNT_VERIFICATION</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="465.625" x="1810.9375" y="1871.4417">FORGOT_PASSWORD</text><!--MD5=[ae7a1f18e9cc8945359623d013cae21d]
link DemoSubscription to USER_ROLES--><!--MD5=[88435f5825d979e25ca10c7d063ff5e8]
link THIRD_PARTY_PROVIDER to UserIdentity--><!--MD5=[f40f0182ab970bccec3c10e8d7ca1f23]
link AuthMail to AUTH_MAIL_CATEGORIES--><!--MD5=[f1e08eb9380522146fd493b5d30e7f59]
link User to RefreshToken--><path codeLine="75" d="M1240.625,1316.6563 C1240.625,1380.1563 1240.625,1445.6563 1240.625,1506 " fill="none" id="User-RefreshToken" style="stroke:#B3B5BD;stroke-width:3.125;"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="65.625" x="1172.8979" y="1385.1517">0..*</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="25" x="1214.3945" y="1471.3093">1</text><!--MD5=[e2eb44f29c106316f8365804211da4fb]
link UserIdentity to User--><path codeLine="76" d="M791.6875,984.375 C864.2813,984.375 938.1562,984.375 1004.4688,984.375 " fill="none" id="UserIdentity-User" style="stroke:#B3B5BD;stroke-width:3.125;"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="25" x="815.9368" y="1031.4962">1</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="65.625" x="914.0482" y="974.3481">0..*</text><!--MD5=[7952c9218a9c55c7bf34dc8a86abcd7b]
link User to AuthMail--><path codeLine="77" d="M1477.25,984.375 C1543.5313,984.375 1617.3437,984.375 1689.9375,984.375 " fill="none" id="User-AuthMail" style="stroke:#B3B5BD;stroke-width:3.125;"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="65.625" x="1501.2468" y="1032.2831">0..*</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="25" x="1640.5206" y="975.1175">1</text><!--MD5=[a0ecb1bdd8a3739ea5bcce1ecb62eb13]
link DemoSubscription to User--><path codeLine="78" d="M1240.625,462.8438 C1240.625,522.25 1240.625,587.8438 1240.625,651.875 " fill="none" id="DemoSubscription-User" style="stroke:#B3B5BD;stroke-width:3.125;"/><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="25" x="1214.3359" y="533.8098">1</text><text fill="#282A3A" font-family="sans-serif" font-size="43.75" lengthAdjust="spacing" textLength="65.625" x="1172.6929" y="619.0192">0..*</text><!--MD5=[42606f0dcd7fa60e2c78e3b7bf659163]
@startuml data-model
!include styles.puml

skinparam roundCorner 10


class User <<collection>> {
  id: string
  email: string
  password: string
  roles: USER_ROLES[]
  isVerified: boolean
  firstName: string
  lastName: string
  createdAt: Date
  updatedAt: Date
}
class UserIdentity <<collection>> {
  id: string
  externalId: string
  email: string
  accessToken: string
  refreshToken: string
  provider: THIRD_PARTY_PROVIDER
  userId: string
  createdAt: Date
  updatedAt: Date
}
class DemoSubscription <<collection>> {
  id: string
  email: string
  comment: string
  createdAt: Date
  updatedAt: Date

}
class AuthMail <<collection>> {
  id: string
  to: string
  category: AUTH_MAIL_CATEGORIES
  token: string
  createdAt: Date
  updatedAt: Date
}
class RefreshToken <<collection>>{
  id: string
  value: string
  userId: string
  expires: number
  createdAt: Date
  updatedAt: Date
}

enum USER_ROLES <<enum>> {
  ADMIN
  USER
  MANAGER
  DEMO
}

enum THIRD_PARTY_PROVIDER <<enum>> {
  GOOGLE
  FACEBOOK
}

enum AUTH_MAIL_CATEGORIES <<enum>> {
  ACCOUNT_VERIFICATION
  FORGOT_PASSWORD
}


DemoSubscription -[hidden]right- USER_ROLES
UserIdentity -[hidden]up- THIRD_PARTY_PROVIDER
AuthMail -[hidden]down- AUTH_MAIL_CATEGORIES

User "0..*" -down- "1" RefreshToken
User "0..*" -left- "1" UserIdentity : \t
User "0..*" -right- "1" AuthMail : \t
User "0..*" -up- "1" DemoSubscription

hide User circle
hide UserIdentity circle
hide DemoSubscription circle
hide RefreshToken circle
hide AuthMail circle
hide USER_ROLES circle
hide THIRD_PARTY_PROVIDER circle
hide AUTH_MAIL_CATEGORIES circle

hide User methods
hide UserIdentity methods
hide DemoSubscription methods
hide RefreshToken methods
hide AuthMail methods
hide USER_ROLES methods
hide THIRD_PARTY_PROVIDER methods
hide AUTH_MAIL_CATEGORIES methods
@enduml

@startuml data-model



skinparam backgroundcolor transparent

skinparam defaultFontColor #282a3a
skinparam defaultFontSize 14
skinParam defaultFontStyle plain

skinparam dpi 300

skinparam linetype ortho





skinparam Shadowing false

skinparam activity {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
  DiamondBackgroundColor #f3f4f8
  DiamondBorderColor #9496a1
}

skinparam actor {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam agent {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam arrow {
  Color #b3b5bd
  FontColor #282a3a
}

skinparam artifact {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam biddable {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam boundary {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam card {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam class {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
  FontStyle bold
  HeaderBackgroundColor #f3f4f8
}

skinparam cloud {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam collections {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam component {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
  Style uml2  
}

skinparam control {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam database {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam designed {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam domain {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam entity {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam file {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam folder {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam frame {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam interface {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam object {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
  FontStyle bold
}

skinparam node {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam note {
  BackgroundColor #FFCD00
  BorderColor #000000
}

skinparam package {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam participant {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam queue {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam rectangle {
  BackgroundColor #ffffff
  BorderColor #9496a1
}

skinparam sequence {
  DividerBackgroundColor #ffffff
  DividerBorderColor #9496a1
  DividerFontStyle bold
  GroupBackgroundColor #f3f4f8
  GroupBodyBackgroundColor #ffffff
  GroupFontStyle bold
  GroupHeaderFontStyle bold
  LifeLineBackgroundColor #ffffff
  LifeLineBorderColor #9496a1
  ReferenceBackgroundColor #ffffff
  ReferenceHeaderBackgroundColor #f3f4f8
}

skinparam stack {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam state {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
  StartColor #9496a1
  EndColor #9496a1
}

skinparam enum {
  BackgroundColor f3f4f8
  ArrowColor b3b5bd
  BorderColor 9496a1
  FontColor 282a3a
}

skinparam storage {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}

skinparam title {
  FontSize 16
}

skinparam usecase {
  BackgroundColor #f3f4f8
  BorderColor #9496a1
}




skinparam roundCorner 10


class User <<collection>> {
  id: string
  email: string
  password: string
  roles: USER_ROLES[]
  isVerified: boolean
  firstName: string
  lastName: string
  createdAt: Date
  updatedAt: Date
}
class UserIdentity <<collection>> {
  id: string
  externalId: string
  email: string
  accessToken: string
  refreshToken: string
  provider: THIRD_PARTY_PROVIDER
  userId: string
  createdAt: Date
  updatedAt: Date
}
class DemoSubscription <<collection>> {
  id: string
  email: string
  comment: string
  createdAt: Date
  updatedAt: Date

}
class AuthMail <<collection>> {
  id: string
  to: string
  category: AUTH_MAIL_CATEGORIES
  token: string
  createdAt: Date
  updatedAt: Date
}
class RefreshToken <<collection>>{
  id: string
  value: string
  userId: string
  expires: number
  createdAt: Date
  updatedAt: Date
}

enum USER_ROLES <<enum>> {
  ADMIN
  USER
  MANAGER
  DEMO
}

enum THIRD_PARTY_PROVIDER <<enum>> {
  GOOGLE
  FACEBOOK
}

enum AUTH_MAIL_CATEGORIES <<enum>> {
  ACCOUNT_VERIFICATION
  FORGOT_PASSWORD
}


DemoSubscription -[hidden]right- USER_ROLES
UserIdentity -[hidden]up- THIRD_PARTY_PROVIDER
AuthMail -[hidden]down- AUTH_MAIL_CATEGORIES

User "0..*" -down- "1" RefreshToken
User "0..*" -left- "1" UserIdentity : \t
User "0..*" -right- "1" AuthMail : \t
User "0..*" -up- "1" DemoSubscription

hide User circle
hide UserIdentity circle
hide DemoSubscription circle
hide RefreshToken circle
hide AuthMail circle
hide USER_ROLES circle
hide THIRD_PARTY_PROVIDER circle
hide AUTH_MAIL_CATEGORIES circle

hide User methods
hide UserIdentity methods
hide DemoSubscription methods
hide RefreshToken methods
hide AuthMail methods
hide USER_ROLES methods
hide THIRD_PARTY_PROVIDER methods
hide AUTH_MAIL_CATEGORIES methods
@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: it
Country: IT
--></g></svg>